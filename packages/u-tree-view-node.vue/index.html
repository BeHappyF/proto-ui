<div :class="$style.root">
    <div :class="$style.item" :selected="selected"
        :readonly="root.readonly"
        :disabled="disabled || root.disabled"
        :tabindex="disabled || root.readonly || root.disabled ? -1 : 0"
        @click="select()"
        @mouseenter="enterItem"
        @mouseleave="leaveItem"
        @keyup.enter="select()"
        @keyup.left="toggle(false)"
        @keyup.right="toggle(true)">
        <div :class="$style.back"></div>
        <div :class="$style.expander" v-if="data || nodes.length"
            :expanded="currentExpanded"
            @click.stop="toggle()"></div>
        <div :class="$style.text">
            <slot name="text">{{ text }}</slot>
        </div>
    </div>
    <div :class="$style.list" v-show="currentExpanded">
        <u-tree-view-node v-if="data"
            v-for="node in data"
            :text="node[root.field]"
            :key="node.key"
            :value="node.value"
            :expanded.sync="node.expanded"
            :disabled="node.disabled"
            :data="node.children"
            :node="node"
        ></u-tree-view-node>
        <slot></slot>
    </div>
</div>
